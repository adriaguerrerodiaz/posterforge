/* Configuració Base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --margin: 20px;
    --gutter: 10px;
    --bg-color: #FFFFFF; 
}

body, html {
    width: 100%;
    height: 100vh;
    overflow: auto; /* allow scrolling so bottom strip is always visible */
    background-color: var(--bg-color);
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

/* Sistema de Graella (4 columnes, 21 files) */
.grid-container {
    display: grid;
    height: 100vh;
    padding: var(--margin);
    gap: var(--gutter);
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(21, 1fr);
}

/* Estils de Text */
.logo-font {
    font-size: 24px;
    font-weight: 500;
    letter-spacing: -0.03em;
    color: #000;
}

.normal-text {
    font-size: 18px;
    font-weight: 400;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

/* About page spacing */
.about-intro {
    position: relative;
}
.about-intro h1 {
    position: absolute;
    top: -80px; /* increased separation from paragraph */
    left: 0;
    margin-bottom: 0;
}

.small-text {
    font-size: 14px;
    font-weight: 400;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

/* Botó 3D PosterForge */
.forge-button {
    display: flex;
    width: 180px;
    height: 60px;
    padding: 10px 20px;
    justify-content: center;
    align-items: center;
    border-radius: 20px;
    background: #06091A;
    color: white;
    border: none;
    cursor: pointer;
    text-decoration: none;
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 18px;
    font-weight: 400;
    letter-spacing: -0.02em;
    line-height: 1.2;
    box-shadow: inset 0px 1px 0.75px rgba(255,255,255,0.070), 
                0px 4px 4px rgba(0,0,0,0.250), 
                0px 0px 0px 1px rgba(47,47,55,1), 
                0px 4px 4px rgba(0,0,0,0.250), 
                0px 47.62px 46.23px rgba(15,15,15,0.401), 
                0px 27.25px 26.45px rgba(15,15,15,0.338), 
                0px 16.54px 16.06px rgba(15,15,15,0.292), 
                0px 9.97px 9.68px rgba(15,15,15,0.248);
    transition: transform 0.1s ease;
}

.forge-button:active {
    transform: scale(0.98);
}

/* Disabled state for forge button */
.forge-button[disabled], .forge-button.disabled {
    opacity: 0.45;
    cursor: not-allowed;
    pointer-events: none;
}

/* Large left-side Coffee button */
.btn-3d {
    display: flex;
    width: 220px;
    height: 88px;
    padding: 14px 24px;
    justify-content: center;
    align-items: center;
    border-radius: 20px;
    background: #06091A;
    color: white;
    border: none;
    cursor: pointer;
    text-decoration: none;
    font-family: 'Helvetica Neue', sans-serif;
    font-size: 20px;
    font-weight: 500;
    letter-spacing: -0.02em;
    line-height: 1.2;
    box-shadow: 0px 10px 20px rgba(0,0,0,0.15);
}

.btn-3d:active { transform: scale(0.98); }

/* Contador 3D Verd */
.green-counter {
    display: flex;
    width: 62px;
    height: 60px;
    padding: 10px 20px;
    justify-content: center;
    align-items: center;
    border-radius: 20px;
    background: #00EF5A;
    color: white;
    font-family: 'Helvetica Neue', sans-serif;
    box-shadow: inset 0 0.847px 0.635px 0 rgba(255, 255, 255, 0.07), 
                0 3.388px 3.388px 0 rgba(0, 248, 99, 0.25), 
                0 0 0 0.847px #00F863, 
                0 3.388px 3.388px 0 rgba(0, 248, 99, 0.25), 
                0 40.33px 39.155px 0 rgba(0, 248, 99, 0.40), 
                0 23.076px 22.404px 0 rgba(15, 15, 15, 0.34), 
                0 14.007px 13.599px 0 rgba(15, 15, 15, 0.29), 
                0 8.44px 8.194px 0 rgba(0, 248, 99, 0.25);
}

/* NOU: Contenidor del Pòster i Capes (Dibuixos + Gràfics) */
.poster-frame {
    position: relative;
    width: 360px;
    height: 449px;
    border-radius: 4px;
    overflow: hidden;
    background-color: #fff;
    animation: fadeInPoster 0.6s ease-out forwards;
}

/* Saved posters strip (bottom) */
.saved-posters {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: 140px;
    background: rgba(248,248,250,0.98);
    border-top: 1px solid rgba(0,0,0,0.04);
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 12px 20px;
    box-shadow: 0 -6px 30px rgba(0,0,0,0.08);
    overflow-x: auto;
    z-index: 200;
}

/* Community posters on home page */
.posters-bottom {
    display: flex;
    gap: 20px;
    padding: 24px 20px;
    align-items: flex-start;
    background: transparent;
}

.poster-item {
    width: 220px;
}

.poster-item p { margin-bottom: 8px; }

.poster-img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    display: block;
    border-radius: 6px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

/* Gallery grid */
.poster-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
}

.poster-grid .poster-item { width: auto; }

/* Reuse thumb-frame styles for gallery items */

.saved-item {
    flex: 0 0 auto;
}

.thumb-frame {
    width: 120px;
    height: 160px;
    border-radius: 6px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    background: #fff;
}

.thumb-frame img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.thumb-frame img.thumb-top {
    mix-blend-mode: multiply;
}

/* Placeholder for empty saved strip */
.no-saved {
    color: #757575;
    font-size: 14px;
    padding-left: 8px;
}
/* Ensure content above the strip isn't hidden behind it */
.grid-container { padding-bottom: 180px; } /* leave extra room for saved strip */
.layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.base-layer { z-index: 1; }
.top-layer { z-index: 2; mix-blend-mode: multiply; } /* Millora la integració */

@keyframes fadeInPoster {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Navegació */
nav {
    grid-column: 3 / 5;
    grid-row: 1;
    display: flex;
    justify-content: space-between;
    align-items: start;
}

nav a {
    text-decoration: none;
    color: black;
}

/* Selectors Personalitzats */
.custom-select-container {
    position: relative;
    width: 360px;
}

.select-label {
    font-size: 18px;
    font-weight: 400;
    color: #A3A3A3;
    margin-bottom: 12px;
    display: block;
}

.select-trigger {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: white;
    padding: 20px 25px;
    border-radius: 18px;
    cursor: pointer;
    font-size: 20px;
    color: #000;
    box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.05), 0px 0px 1px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.select-trigger::after {
    content: '';
    width: 12px;
    height: 12px;
    border-right: 2px solid #000;
    border-bottom: 2px solid #000;
    transform: rotate(45deg);
    margin-bottom: 5px;
    transition: transform 0.3s ease;
}

.custom-select-container.open .select-trigger::after {
    transform: rotate(-135deg);
    margin-bottom: -5px;
}

.select-options {
    position: absolute;
    top: 105%;
    left: 0;
    right: 0;
    background: white;
    border-radius: 18px;
    overflow: hidden;
    z-index: 100;
    box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.1);
    display: none;
}

.custom-select-container.open .select-options {
    display: block;
}

/* Palette option styles */
.option-palette {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 18px;
    cursor: pointer;
}
.option-palette .swatch {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.06);
    flex-shrink: 0;
}
.option-palette:hover { background: #f9f9f9; }
.option-palette.selected { outline: 2px solid rgba(0,0,0,0.06); border-radius: 8px; }

/* Generic selected style for option items */
.option-item.selected { background: #f6f6f6; font-weight: 600; }

.option-item {
    padding: 15px 25px;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.2s;
}

.option-item:hover { background-color: #f9f9f9; }

.palette-preview {
    width: 100%;
    height: 180px;
}