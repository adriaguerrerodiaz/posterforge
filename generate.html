<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PosterForge - Generate</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div class="grid-container">
        <div style="grid-column: 1; grid-row: 1;" class="logo-font">PosterForge</div>

        <nav class="normal-text">
            <a href="about.html">About</a>
            <a href="team.html">Team</a>
            <a href="gallery.html">Gallery</a>
            <a href="shop.html" style="margin-left: 40px;">Shop</a>
            <a href="login.html">Log In</a>
        </nav>

        <div style="grid-column: 1; grid-row: 4 / 8;" class="normal-text">
            <p>Genera pòsters únics a partir de dibuixos, il·lustracions i elements gràfics creats per artistes.</p>
            <br>
            <p>Crea la teva pròpia galeria i descarrega o imprimeix els pòsters que més t’agradin.</p>
        </div>

        <div style="grid-column: 3; grid-row: 4 / 13; display: flex; flex-direction: column; gap: 30px;">
            <div class="custom-select-container" onclick="this.classList.toggle('open')">
                <span class="select-label normal-text">Scale</span>
                <div class="select-trigger"><span class="normal-text">Select Scale</span></div>
                <div class="select-options">
                    <div class="option-item normal-text">Horizontal</div>
                    <div class="option-item normal-text" style="border-top: 1px solid #f0f0f0;">Vertical</div>
                </div>
            </div>

            <div class="custom-select-container" onclick="this.classList.toggle('open')">
                <span class="select-label normal-text">Color</span>
                <div class="select-trigger"><span class="normal-text">Select palette</span></div>
                <div class="select-options"><div class="palette-preview"></div></div>
            </div>

            <div class="custom-select-container" onclick="this.classList.toggle('open')">
                <span class="select-label normal-text">Mood</span>
                <div class="select-trigger"><span class="normal-text">Select moods</span></div>
                <div class="select-options">
                    <div class="option-item normal-text">Happy</div>
                    <div class="option-item normal-text">Dark</div>
                    <div class="option-item normal-text">Retro</div>
                </div>
            </div>
        </div>

        <div id="poster-result-container" style="grid-column: 4; grid-row: 4 / 13; display: flex; justify-content: flex-end; align-items: flex-start;">
            </div>

        <div class="controls-row" style="grid-column: 3; grid-row: 15 / 17; display: flex; align-items: center; gap: 15px;">
            <div class="green-counter">5/5</div>
            <button class="forge-button" id="forgeBtn">Forge Your Poster</button>
        </div>
    </div>

    <script>
        // Tanca selectors
        window.onclick = function(event) {
            if (!event.target.closest('.custom-select-container')) {
                document.querySelectorAll('.custom-select-container').forEach(el => el.classList.remove('open'));
            }
        }

        // Logo click
        document.querySelectorAll('.logo-font').forEach(el => {
            el.style.cursor = 'pointer';
            el.onclick = () => window.location.href = 'home.html';
        });

        // Lògica de Generació Combinada
        document.getElementById('forgeBtn').addEventListener('click', function() {
            const container = document.getElementById('poster-result-container');
            const counter = document.querySelector('.green-counter');
            
            // Llistat de fitxers (haurien de coincidir amb els teus noms reals a les carpetes)
            const llistaDibuixos = ['dibuix1.png', 'dibuix2.png', 'dibuix3.png']; 
            const llistaGrafics = ['grafic1.png', 'grafic2.png', 'grafic3.png'];

            const dibuixAleatori = llistaDibuixos[Math.floor(Math.random() * llistaDibuixos.length)];
            const graficAleatori = llistaGrafics[Math.floor(Math.random() * llistaGrafics.length)];

            // Creem el frame del pòster que contindrà les dues capes
            container.innerHTML = `
                <div class="poster-frame">
                    <img src="dibuixos/${dibuixAleatori}" class="layer base-layer" alt="Dibuix">
                    <img src="gràfics/${graficAleatori}" class="layer top-layer" alt="Gràfic">
                </div>
            `;

            // Actualitzar comptador
            let parts = counter.innerText.split('/');
            let current = parseInt(parts[0]);
            if (current > 0) counter.innerText = (current - 1) + "/5";
        });
    </script>
</body>
</html>